!function(a,b){var c=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}};jQuery.fn[b]=function(a){return a?this.bind("resize",c(a)):this.trigger(b)}}(jQuery,"smartresize"),!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c,a,a.document)}):"object"==typeof module&&module.exports?module.exports=function(c,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(c)),b(d,a,a.document),d}:b(jQuery,a,a.document)}("undefined"!=typeof window?window:this,function(a,b,c,d){"use strict";function e(c,d,e){if(y===!0)return!0;if(n[c]){if(v=!1,e&&D.before(c,o),r=1,D.sectionName&&(B!==!0||0!==c))if(history.pushState)try{history.replaceState(null,null,n[c])}catch(f){b.console&&console.warn("Scrollify warning: This needs to be hosted on a server to manipulate the hash value.")}else b.location.hash=n[c];if(d)a(D.target).stop().scrollTop(m[c]),e&&D.after(c,o);else{if(w=!0,a().velocity?a(D.target).stop().velocity("scroll",{duration:D.scrollSpeed,easing:D.easing,offset:m[c],mobileHA:!1}):a(D.target).stop().animate({scrollTop:m[c]},D.scrollSpeed,D.easing),b.location.hash.length&&D.sectionName&&b.console)try{a(b.location.hash).length&&console.warn("Scrollify warning: There are IDs on the page that match the hash value - this will cause the page to anchor.")}catch(f){console.warn("Scrollify warning:",b.location.hash,"is not a valid jQuery expression.")}a(D.target).promise().done(function(){w=!1,B=!1,e&&D.after(c,o)})}}}function f(a){function b(b){for(var c=0,d=a.slice(Math.max(a.length-b,1)),e=0;e<d.length;e++)c+=d[e];return Math.ceil(c/b)}var c=b(10),d=b(70);return c>=d?!0:!1}function g(a,b){for(var c=n.length;c>=0;c--)"string"==typeof a?n[c]===a&&(q=c,e(c,b,!0)):c===a&&(q=c,e(c,b,!0))}var h,i,j,k,l,m=[],n=[],o=[],p=[],q=0,r=1,s=!1,t=a(b),u=t.scrollTop(),v=!1,w=!1,x=!1,y=!1,z=[],A=(new Date).getTime(),B=!0,C=!1,D={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,axis:"y",target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}};a.scrollify=function(d){function g(b){a().velocity?a(D.target).stop().velocity("scroll",{duration:D.scrollSpeed,easing:D.easing,offset:b,mobileHA:!1}):a(D.target).stop().animate({scrollTop:b},D.scrollSpeed,D.easing)}function B(){var b=D.section;p=[],D.interstitialSection.length&&(b+=","+D.interstitialSection),a(b).each(function(b){D.setHeights?a(this).is(D.interstitialSection)?p[b]=!1:a(this).css("height","auto").outerHeight()<t.height()||"hidden"===a(this).css("overflow")?(a(this).css({height:t.height()}),p[b]=!1):(a(this).css({height:a(this).height()}),D.overflowScroll?p[b]=!0:p[b]=!1):a(this).outerHeight()<t.height()||D.overflowScroll===!1?p[b]=!1:p[b]=!0})}function E(c){var d=D.section;D.interstitialSection.length&&(d+=","+D.interstitialSection),m=[],n=[],o=[],a(d).each(function(c){c>0?m[c]=parseInt(a(this).offset().top)+D.offset:m[c]=parseInt(a(this).offset().top),D.sectionName&&a(this).data(D.sectionName)?n[c]="#"+a(this).data(D.sectionName).replace(/ /g,"-"):a(this).is(D.interstitialSection)===!1?n[c]="#"+(c+1):n[c]="#",o[c]=a(this),a(n[c]).length&&b.console&&console.warn("Scrollify warning: Section names can't match IDs on the page - this will cause the browser to anchor."),b.location.hash===n[c]&&(q=c,s=!0)}),!0===c?e(q,!1,!1):D.afterRender()}function F(){return p[q]?(u=t.scrollTop(),u>parseInt(m[q])?!1:!0):!0}function G(){return p[q]?(u=t.scrollTop(),u<parseInt(m[q])+(o[q].outerHeight()-t.height())-28?!1:!0):!0}C=!0,a.easing.easeOutExpo=function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},j={handleMousedown:function(){return y===!0?!0:(v=!1,void(x=!1))},handleMouseup:function(){return y===!0?!0:(v=!0,void(x&&j.calculateNearest()))},handleScroll:function(){return y===!0?!0:(h&&clearTimeout(h),void(h=setTimeout(function(){return x=!0,v===!1?!1:(v=!1,void j.calculateNearest())},200)))},calculateNearest:function(){u=t.scrollTop();for(var a,b=1,c=m.length,d=0,f=Math.abs(m[0]-u);c>b;b++)a=Math.abs(m[b]-u),f>a&&(f=a,d=b);(G()||F())&&(q=d,e(d,!1,!0))},wheelHandler:function(b,c){if(y===!0)return!0;if(D.standardScrollElements&&(a(b.target).is(D.standardScrollElements)||a(b.target).closest(D.standardScrollElements).length))return!0;p[q]||b.preventDefault();var d=(new Date).getTime();if(c=c||-b.originalEvent.detail/3||b.originalEvent.wheelDelta/120,z.length>149&&z.shift(),z.push(Math.abs(10*c)),d-A>200&&(z=[]),A=d,w)return!1;if(0>c){if(q<m.length-1&&G()){if(!f(z))return!1;b.preventDefault(),q++,w=!0,e(q,!1,!0)}}else if(c>0&&q>0&&F()){if(!f(z))return!1;b.preventDefault(),q--,w=!0,e(q,!1,!0)}},keyHandler:function(a){return y===!0?!0:w===!0?!1:void(38==a.keyCode?q>0&&F()&&(q--,e(q,!1,!0)):40==a.keyCode&&q<m.length-1&&G()&&(q++,e(q,!1,!0)))},init:function(){D.scrollbars?(t.bind("mousedown",j.handleMousedown),t.bind("mouseup",j.handleMouseup),t.bind("scroll",j.handleScroll)):a("body").css({overflow:"hidden"}),a(c).bind("DOMMouseScroll mousewheel",j.wheelHandler),a(c).bind("keydown",j.keyHandler)}},k={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(b){if(y===!0)return!0;if(D.standardScrollElements&&(a(b.target).is(D.standardScrollElements)||a(b.target).closest(D.standardScrollElements).length))return!0;var c;if("undefined"!=typeof b&&"undefined"!=typeof b.touches)switch(c=b.touches[0],b.type){case"touchstart":k.touches.touchstart.y=c.pageY,k.touches.touchmove.y=-1,k.touches.touchstart.x=c.pageX,k.touches.touchmove.x=-1,k.options.timeStamp=(new Date).getTime(),k.touches.touchend=!1;case"touchmove":k.touches.touchmove.y=c.pageY,k.touches.touchmove.x=c.pageX,k.touches.touchstart.y!==k.touches.touchmove.y&&Math.abs(k.touches.touchstart.y-k.touches.touchmove.y)>Math.abs(k.touches.touchstart.x-k.touches.touchmove.x)&&(b.preventDefault(),k.touches.direction="y",k.options.timeStamp+k.options.timeGap<(new Date).getTime()&&0==k.touches.touchend&&(k.touches.touchend=!0,k.touches.touchstart.y>-1&&Math.abs(k.touches.touchmove.y-k.touches.touchstart.y)>k.options.distance&&(k.touches.touchstart.y<k.touches.touchmove.y?k.up():k.down())));break;case"touchend":k.touches[b.type]===!1&&(k.touches[b.type]=!0,k.touches.touchstart.y>-1&&k.touches.touchmove.y>-1&&"y"===k.touches.direction&&(Math.abs(k.touches.touchmove.y-k.touches.touchstart.y)>k.options.distance&&(k.touches.touchstart.y<k.touches.touchmove.y?k.up():k.down()),k.touches.touchstart.y=-1,k.touches.touchstart.x=-1,k.touches.direction="undetermined"))}},down:function(){q<=m.length-1&&(G()&&q<m.length-1?(q++,e(q,!1,!0)):Math.floor(o[q].height()/t.height())>r?(g(parseInt(m[q])+t.height()*r),r+=1):g(parseInt(m[q])+(o[q].height()-t.height())))},up:function(){q>=0&&(F()&&q>0?(q--,e(q,!1,!0)):r>2?(r-=1,g(parseInt(m[q])+t.height()*r)):(r=1,g(parseInt(m[q]))))},init:function(){c.addEventListener&&(c.addEventListener("touchstart",k.touchHandler,!1),c.addEventListener("touchmove",k.touchHandler,!1),c.addEventListener("touchend",k.touchHandler,!1))}},l={refresh:function(a){clearTimeout(i),i=setTimeout(function(){B(),E(!0),a&&D.afterResize()},400)},handleUpdate:function(){l.refresh(!1)},handleResize:function(){l.refresh(!0)}},D=a.extend(D,d),B(),E(!1),!0===s?e(q,!1,!0):setTimeout(function(){e(0,!1,!0)},200),m.length&&(j.init(),k.init(),t.bind("resize",l.handleResize),c.addEventListener&&b.addEventListener("orientationchange",l.handleResize,!1))},a.scrollify.move=function(b){return b===d?!1:(b.originalEvent&&(b=a(this).attr("href")),void g(b,!1))},a.scrollify.instantMove=function(a){return a===d?!1:void g(a,!0)},a.scrollify.next=function(){q<n.length&&(q+=1,e(q,!1,!0))},a.scrollify.previous=function(){q>0&&(q-=1,e(q,!1,!0))},a.scrollify.instantNext=function(){q<n.length&&(q+=1,e(q,!0,!0))},a.scrollify.instantPrevious=function(){q>0&&(q-=1,e(q,!0,!0))},a.scrollify.destroy=function(){return C?(D.setHeights&&a(D.section).each(function(){a(this).css("height","auto")}),t.unbind("resize",l.handleResize),D.scrollbars&&(t.unbind("mousedown",j.handleMousedown),t.unbind("mouseup",j.handleMouseup),t.unbind("scroll",j.handleScroll)),a(c).unbind("DOMMouseScroll mousewheel",j.wheelHandler),a(c).unbind("keydown",j.keyHandler),c.addEventListener&&(c.removeEventListener("touchstart",k.touchHandler,!1),c.removeEventListener("touchmove",k.touchHandler,!1),c.removeEventListener("touchend",k.touchHandler,!1)),m=[],n=[],o=[],void(p=[])):!1},a.scrollify.update=function(){return C?void l.handleUpdate():!1},a.scrollify.current=function(){return o[q]},a.scrollify.disable=function(){y=!0},a.scrollify.enable=function(){y=!1},a.scrollify.isDisabled=function(){return y},a.scrollify.setOptions=function(c){return C?void("object"==typeof c?(D=a.extend(D,c),l.handleUpdate()):b.console&&console.warn("Scrollify warning: Options need to be in an object.")):!1}}),jQuery(document).ready(function(){jQuery.scrollify({section:"section",scrollSpeed:700,before:function(a){var b=$(".slide.active");b.addClass("remove"),$("[data-slide="+a+"]").addClass("active"),b.removeClass("remove active")}}),jQuery(".section-actions__content .button").on("click",function(a){a.preventDefault();var b=jQuery(this).attr("data-animation");jQuery(".section-actions__giovanni").removeClass("jump spin bounce"),jQuery(".section-actions__giovanni").addClass(b)}),jQuery(".section-nav__link").on("click",function(a){a.preventDefault();var b=jQuery(this).attr("data-section");jQuery.scrollify.move("#"+b),jQuery(".section-nav__link").removeClass("active"),jQuery(this).addClass("active")}),jQuery(".section-friend__leonardo").on("click",function(){jQuery(".section-friend__joke-bubble").addClass("active"),jQuery(".section-friend__joke-question").addClass("active"),setTimeout(function(){jQuery(".section-friend__joke-question").removeClass("active"),jQuery(".section-friend__joke-answer").addClass("active")},3e3)})}),jQuery(window).smartresize(function(){});